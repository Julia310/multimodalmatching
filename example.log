C:\Users\49151\AppData\Local\Programs\Python\Python310\python.exe C:/Users/49151/MMM/main.py
2022-08-09 00:14:29,069: Start preparing data for embedding creation
2022-08-09 00:14:29,069: Start processing
2022-08-09 00:14:29,069: Init Matching Util
2022-08-09 00:14:29,234:
2022-08-09 00:14:29,234: Statistics of the generated blocks:
2022-08-09 00:14:29,234:
2022-08-09 00:14:29,234: Dataset Zalando number of blocks generated: 88
2022-08-09 00:14:29,234:     Minimum block size: 1
2022-08-09 00:14:29,234:     Average block size: 436.26
2022-08-09 00:14:29,234:     Median block size: 84
2022-08-09 00:14:29,234:     Maximum block size: 4967
2022-08-09 00:14:29,234:
2022-08-09 00:14:29,234: Dataset Tommy Hilfiger number of blocks generated: 11
2022-08-09 00:14:29,235:     Minimum block size: 26
2022-08-09 00:14:29,235:     Average block size: 337.00
2022-08-09 00:14:29,235:     Median block size: 231
2022-08-09 00:14:29,235:     Maximum block size: 1070
2022-08-09 00:14:29,235:
2022-08-09 00:14:29,235: Dataset Gerry Weber number of blocks generated: 9
2022-08-09 00:14:29,235:     Minimum block size: 10
2022-08-09 00:14:29,235:     Average block size: 173.22
2022-08-09 00:14:29,235:     Median block size: 55
2022-08-09 00:14:29,235:     Maximum block size: 775
2022-08-09 00:14:29,235:
2022-08-09 00:14:29,701: Number of potential matches:             9310854
2022-08-09 00:14:29,702:
2022-08-09 00:14:29,721: Data prepared for embedding creation in     0.01 seconds
2022-08-09 00:14:30,061: Start creating text embeddings
generate embeddings for dataset 1: 100%|██████████| 15193/15193 [07:06<00:00, 35.60it/s]
2022-08-09 00:21:44,975: 1000 rows inserted
2022-08-09 00:21:45,160: 2000 rows inserted
2022-08-09 00:21:45,334: 3000 rows inserted
2022-08-09 00:21:45,523: 4000 rows inserted
2022-08-09 00:21:45,710: 5000 rows inserted
2022-08-09 00:21:45,889: 6000 rows inserted
2022-08-09 00:21:46,068: 7000 rows inserted
2022-08-09 00:21:46,420: 8000 rows inserted
2022-08-09 00:21:46,593: 9000 rows inserted
2022-08-09 00:21:46,764: 10000 rows inserted
2022-08-09 00:21:46,937: 11000 rows inserted
2022-08-09 00:21:47,104: 12000 rows inserted
2022-08-09 00:21:47,274: 13000 rows inserted
2022-08-09 00:21:47,458: 14000 rows inserted
2022-08-09 00:21:47,641: 15000 rows inserted
2022-08-09 00:21:47,675: 15193 rows inserted
generate embeddings for dataset 2: 100%|██████████| 5266/5266 [02:38<00:00, 33.18it/s]
2022-08-09 00:24:26,843: 1000 rows inserted
2022-08-09 00:24:27,015: 2000 rows inserted
2022-08-09 00:24:27,191: 3000 rows inserted
2022-08-09 00:24:27,527: 4000 rows inserted
2022-08-09 00:24:27,705: 5000 rows inserted
2022-08-09 00:24:27,756: 5266 rows inserted
2022-08-09 00:24:27,819: Text embeddings created and saved in     9.96 minutes
2022-08-09 00:24:28,002: Start creating and saving image embeddings
2022-08-09 00:24:31,077: >>>>>>>>>>  Preprocessing images    0 - 1000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:50<00:00,  9.03it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:07<00:00, 14.78it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:03<00:00, 268.62it/s]
2022-08-09 00:27:33,178: >>>>>>>>>>  Preprocessing images    1000 - 2000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:45<00:00,  9.47it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.28it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 249.04it/s]
2022-08-09 00:30:24,242: >>>>>>>>>>  Preprocessing images    2000 - 3000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:42<00:00,  9.72it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.36it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:03<00:00, 261.13it/s]
2022-08-09 00:33:12,138: >>>>>>>>>>  Preprocessing images    3000 - 4000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:46<00:00,  9.36it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.30it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:03<00:00, 254.01it/s]
2022-08-09 00:36:04,296: >>>>>>>>>>  Preprocessing images    4000 - 5000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:44<00:00,  9.60it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.27it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 245.85it/s]
2022-08-09 00:38:54,073: >>>>>>>>>>  Preprocessing images    5000 - 6000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:45<00:00,  9.50it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.29it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 249.32it/s]
2022-08-09 00:41:44,801: >>>>>>>>>>  Preprocessing images    6000 - 7000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:41<00:00,  9.83it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.16it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 244.52it/s]
2022-08-09 00:44:32,544: >>>>>>>>>>  Preprocessing images    7000 - 8000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:44<00:00,  9.54it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:02<00:00, 16.10it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:03<00:00, 252.06it/s]
2022-08-09 00:47:23,417: >>>>>>>>>>  Preprocessing images    8000 - 9000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:43<00:00,  9.66it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.16it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 246.02it/s]
2022-08-09 00:50:12,945: >>>>>>>>>>  Preprocessing images    9000 - 10000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:40<00:00,  9.93it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.15it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 242.93it/s]
2022-08-09 00:52:59,730: >>>>>>>>>>  Preprocessing images    10000 - 11000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:32<00:00, 10.82it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:02<00:00, 16.08it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 242.84it/s]
2022-08-09 00:55:38,511: >>>>>>>>>>  Preprocessing images    11000 - 12000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:22<00:00, 12.12it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.18it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 247.76it/s]
2022-08-09 00:58:06,942: >>>>>>>>>>  Preprocessing images    12000 - 13000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:46<00:00,  9.39it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.13it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 247.95it/s]
2022-08-09 01:00:59,468: >>>>>>>>>>  Preprocessing images    13000 - 14000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:49<00:00,  9.14it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:02<00:00, 16.05it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 239.94it/s]
2022-08-09 01:03:55,380: >>>>>>>>>>  Preprocessing images    14000 - 15000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [01:50<00:00,  9.02it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:02<00:00, 16.09it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 242.89it/s]
2022-08-09 01:06:52,480: >>>>>>>>>>  Preprocessing images    15000 - 15193  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 193/193 [00:15<00:00, 12.18it/s]
Create embeddings from batch: 100%|██████████| 193/193 [00:12<00:00, 15.29it/s]
Persist image embeddings    : 100%|██████████| 193/193 [00:00<00:00, 215.89it/s]
2022-08-09 01:07:21,897: >>>>>>>>>>  Preprocessing images    0 - 1000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [00:30<00:00, 32.94it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.16it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 246.20it/s]
2022-08-09 01:08:58,205: >>>>>>>>>>  Preprocessing images    1000 - 2000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [00:41<00:00, 24.36it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:02<00:00, 16.05it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:03<00:00, 252.15it/s]
2022-08-09 01:10:45,580: >>>>>>>>>>  Preprocessing images    2000 - 3000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [00:55<00:00, 17.88it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:01<00:00, 16.18it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 244.86it/s]
2022-08-09 01:12:47,441: >>>>>>>>>>  Preprocessing images    3000 - 4000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [00:56<00:00, 17.67it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:02<00:00, 16.04it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 249.70it/s]
2022-08-09 01:14:50,424: >>>>>>>>>>  Preprocessing images    4000 - 5000  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 1000/1000 [00:57<00:00, 17.30it/s]
Create embeddings from batch: 100%|██████████| 1000/1000 [01:02<00:00, 15.98it/s]
Persist image embeddings    : 100%|██████████| 1000/1000 [00:04<00:00, 243.82it/s]
2022-08-09 01:16:54,953: >>>>>>>>>>  Preprocessing images    5000 - 5266  <<<<<<<<<<
Preprocess image batch      : 100%|██████████| 266/266 [00:15<00:00, 17.12it/s]
Create embeddings from batch: 100%|██████████| 266/266 [00:17<00:00, 15.47it/s]
Persist image embeddings    : 100%|██████████| 266/266 [00:01<00:00, 237.08it/s]
2022-08-09 01:17:28,879: Image embeddings created and saved in    53.01 minutes
2022-08-09 01:17:28,920: 839 rows inserted
2022-08-09 01:17:28,923: true Zalando - TommyHilfiger classified_matches persisted to db
2022-08-09 01:17:28,931: 284 rows inserted
2022-08-09 01:17:28,935: true Zalando - GerryWeber classified_matches persisted to db
2022-08-09 01:17:28,968: 1000 rows inserted
2022-08-09 01:17:28,987: 2000 rows inserted
2022-08-09 01:17:29,008: 3000 rows inserted
2022-08-09 01:17:29,098: Tommy Hilfiger Ids saved to db for later evaluation
2022-08-09 01:17:29,023: 3707 rows inserted
2022-08-09 01:17:29,057: 1000 rows inserted
2022-08-09 01:17:29,069: 1559 rows inserted
2022-08-09 01:17:29,099: Gerry Weber Ids saved to db for later evaluation
conduct ml classification: 100%|██████████| 9310854/9310854 [7:44:17<00:00, 334.23it/s]
2022-08-09 09:01:49,171: Classification performed in   464.33 minutes
2022-08-09 09:01:49,171:
2022-08-09 09:01:49,368: Blocking evaluation:
2022-08-09 09:01:49,368:   Reduction ratio:    0.9539
2022-08-09 09:02:49,703:   Pairs completeness: 0.9965
2022-08-09 09:03:49,941:   Pairs quality:      0.0000
2022-08-09 09:03:50,073: Tommy Hilfiger - Zalando linkage evaluation:
2022-08-09 09:03:50,073: TP: 771, FP: 4917, FN: 68, TN: 142309681
2022-08-09 09:03:50,073:   Accuracy:    1.0000
2022-08-09 09:03:50,073:   Precision:   0.1355
2022-08-09 09:03:50,073:   Recall:      0.9190
2022-08-09 09:03:50,073:   F-score:     0.2362
2022-08-09 09:03:50,096: Gerry Weber - Zalando linkage evaluation:
2022-08-09 09:03:50,096: TP: 277, FP: 1001, FN: 7, TN: 59850284
2022-08-09 09:03:50,096:   Accuracy:    1.0000
2022-08-09 09:03:50,096:   Precision:   0.2167
2022-08-09 09:03:50,096:   Recall:      0.9754
2022-08-09 09:03:50,096:   F-score:     0.3547
2022-08-09 09:03:50,147: general linkage evaluation:
2022-08-09 09:03:50,147: TP: 1048, FP: 5918, FN: 75, TN: 202159965
2022-08-09 09:03:50,147:   Accuracy:    1.0000
2022-08-09 09:03:50,147:   Precision:   0.1504
2022-08-09 09:03:50,147:   Recall:      0.9332
2022-08-09 09:03:50,147:   F-score:     0.2591
2022-08-09 09:03:50,147: Products matched in    26.45 hours


Process finished with exit code 0
